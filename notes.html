<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notes</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/*! tailwindcss v3.4.19 | MIT License | https://tailwindcss.com*/*,:after,:before{box-sizing:border-box;border:0 solid #e5e7eb}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}*{box-sizing:border-box}body{--tw-bg-opacity:1;background-color:rgb(255 251 235/var(--tw-bg-opacity,1));--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}body,button{font-family:Nunito,sans-serif}button{cursor:pointer}.app-header{position:fixed;top:0;left:0;right:0;z-index:40;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1));height:64px;box-shadow:0 1px 4px rgba(0,0,0,.08)}.header-inner{margin-left:auto;margin-right:auto;height:100%;max-width:72rem;gap:.75rem;padding-left:1rem;padding-right:1rem}.header-brand,.header-inner{display:flex;align-items:center}.header-brand{flex-shrink:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;gap:.5rem;width:190px}.brand-icon{flex-shrink:0;color:rgb(245 158 11/var(--tw-text-opacity,1));width:38px;height:38px}.brand-icon,.brand-name{--tw-text-opacity:1}.brand-name{font-size:1.25rem;line-height:1.75rem;font-weight:800;color:rgb(55 65 81/var(--tw-text-opacity,1));letter-spacing:-.02em}.search-bar{position:relative;max-width:42rem;flex:1 1 0%}.search-bar-icon{pointer-events:none;position:absolute;left:.875rem;top:50%;--tw-translate-y:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity,1));width:20px;height:20px}.search-bar-input{width:100%;border-radius:.5rem;border-width:2px;border-color:transparent;--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity,1));padding:.625rem 1rem .625rem 2.75rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1));outline:2px solid transparent;outline-offset:2px;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.search-bar-input::-moz-placeholder{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity,1))}.search-bar-input::placeholder{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity,1))}.search-bar-input:focus{--tw-border-opacity:1;border-color:rgb(252 211 77/var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1))}.header-end{display:flex;flex-shrink:0;align-items:center;justify-content:flex-end;gap:.5rem;width:190px}.app-main{max-width:64rem;padding:5rem 1rem 3rem}.app-main,.creator-wrap{margin-left:auto;margin-right:auto}.creator-wrap{margin-bottom:2rem;max-width:36rem}.creator-collapsed{display:flex;align-items:center;gap:.5rem;border-radius:.75rem;--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1));padding:.75rem 1rem;box-shadow:0 2px 8px rgba(0,0,0,.12),0 1px 3px rgba(0,0,0,.08)}.creator-collapsed,.creator-trigger-input{cursor:text}.creator-trigger-input{flex:1 1 0%;background-color:transparent;font-size:.875rem;line-height:1.25rem;font-weight:600;--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity,1));outline:2px solid transparent;outline-offset:2px;font-family:Nunito,sans-serif}.creator-expanded{overflow:visible;border-radius:.75rem;--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1));box-shadow:0 2px 8px rgba(0,0,0,.12),0 1px 3px rgba(0,0,0,.08);transition:background-color .2s ease}.creator-title-input{padding:1rem 1rem .25rem;font-size:1rem;line-height:1.5rem;font-weight:700;color:rgb(31 41 55/var(--tw-text-opacity,1))}.creator-body-input,.creator-title-input{width:100%;background-color:transparent;--tw-text-opacity:1;outline:2px solid transparent;outline-offset:2px;font-family:Nunito,sans-serif}.creator-body-input{resize:none;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;color:rgb(55 65 81/var(--tw-text-opacity,1));min-height:56px}.creator-footer{justify-content:space-between;padding:.5rem;border-top:1px solid rgba(0,0,0,.06)}.creator-footer,.creator-footer-left{display:flex;align-items:center}.creator-footer-left{gap:.125rem}.creator-footer-right{gap:.25rem}.creator-footer-right,.icon-btn{display:flex;align-items:center}.icon-btn{justify-content:center;border-radius:9999px;padding:.5rem;--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background:none;border:none}.icon-btn:hover{background:rgba(0,0,0,.08)}.icon-btn.pinned{color:rgb(217 119 6/var(--tw-text-opacity,1))}.icon-btn.pinned,.text-btn{--tw-text-opacity:1}.text-btn{border-radius:.375rem;padding:.375rem .75rem;font-size:.875rem;line-height:1.25rem;font-weight:600;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background:none;border:none}.text-btn:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity,1))}.done-btn{border-radius:.375rem;padding:.375rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:700;--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity,1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background:none;border:none}.done-btn:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity,1))}.color-picker-wrap{position:relative}.color-picker{position:absolute;z-index:30;display:flex;flex-wrap:wrap;gap:.375rem;border-radius:.75rem;--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1));padding:.5rem;bottom:calc(100% + 8px);left:0;min-width:212px;box-shadow:0 4px 16px rgba(0,0,0,.16),0 1px 4px rgba(0,0,0,.1);visibility:hidden;opacity:0;pointer-events:none}.color-picker.open{visibility:visible;opacity:1;pointer-events:auto}.color-swatch{height:2rem;width:2rem;border-radius:9999px;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;border:2px solid transparent;flex-shrink:0}.color-swatch:hover{transform:scale(1.15)}.color-swatch.selected{border-color:#1a1a1a}.section-label{margin-bottom:.75rem;margin-left:.25rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:.75rem;line-height:1rem;font-weight:700;text-transform:uppercase;--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity,1));letter-spacing:.1em}.notes-grid{margin-left:auto;margin-right:auto;max-width:36rem;margin-bottom:1.5rem}.note-card{position:relative;cursor:pointer;border-radius:.75rem;border-width:1px;--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity,1));padding:1rem;margin-bottom:1rem;background-color:#fff;transition:box-shadow .15s ease}.note-card:hover{box-shadow:0 4px 14px rgba(0,0,0,.15),0 1px 4px rgba(0,0,0,.1)}.note-card .card-title{margin-bottom:.25rem;line-height:1.25rem;font-weight:700;line-height:1.375;color:rgb(31 41 55/var(--tw-text-opacity,1))}.note-card .card-body,.note-card .card-title{font-size:.875rem;--tw-text-opacity:1;word-break:break-word}.note-card .card-body{line-height:1.25rem;line-height:1.625;color:rgb(55 65 81/var(--tw-text-opacity,1));white-space:pre-wrap;max-height:280px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:12;-webkit-box-orient:vertical}.card-pin-btn{position:absolute;top:.5rem;right:.5rem;border-radius:9999px;padding:.375rem;--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background:none;border:none;opacity:0}.card-pin-btn:hover{background:rgba(0,0,0,.1)}.card-pin-btn.pinned,.note-card:hover .card-pin-btn{opacity:1}.card-pin-btn.pinned{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}.card-actions{margin-top:.5rem;display:flex;align-items:center;gap:.125rem;opacity:0;transition:opacity .15s ease}.note-card:hover .card-actions{opacity:1}.card-action-btn{border-radius:9999px;padding:.375rem;--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background:none;border:none}.card-action-btn:hover{background:rgba(0,0,0,.1)}.card-color-picker{bottom:40px!important;left:0!important}.empty-state{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-direction:column;align-items:center;justify-content:center;padding-top:6rem;padding-bottom:6rem;--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity,1))}.empty-icon{margin-bottom:1rem;width:96px;height:96px;opacity:.15}.empty-text{font-size:1.125rem;line-height:1.75rem;font-weight:600}.modal-backdrop{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.35)}.modal-card{width:100%;border-radius:.75rem;max-width:680px;min-height:320px;background-color:#fff;box-shadow:0 12px 40px rgba(0,0,0,.22);transition:background-color .2s ease}.modal-card,.modal-top{position:relative}.edit-title-input{width:100%;background-color:transparent;padding:1rem 1rem .25rem;font-size:1rem;line-height:1.5rem;font-weight:700;color:rgb(31 41 55/var(--tw-text-opacity,1));outline:2px solid transparent;outline-offset:2px;font-family:Nunito,sans-serif;padding-right:48px}.edit-title-input,.modal-pin-btn{--tw-text-opacity:1}.modal-pin-btn{position:absolute;top:.5rem;right:.5rem;border-radius:9999px;padding:.375rem;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;background:none;border:none}.modal-pin-btn:hover{background:rgba(0,0,0,.1)}.modal-pin-btn.pinned{color:rgb(217 119 6/var(--tw-text-opacity,1))}.edit-body-input,.modal-pin-btn.pinned{--tw-text-opacity:1}.edit-body-input{width:100%;resize:none;background-color:transparent;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;color:rgb(55 65 81/var(--tw-text-opacity,1));outline:2px solid transparent;outline-offset:2px;font-family:Nunito,sans-serif;min-height:240px;max-height:65vh;overflow-y:auto}.modal-footer{justify-content:space-between;padding:.5rem;border-top:1px solid rgba(0,0,0,.06)}.modal-footer,.modal-footer-left{display:flex;align-items:center}.modal-footer-left{gap:.125rem}.visible{visibility:visible}.hidden{display:none}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}[data-theme=dark] body{background:#0f172a;color:#e2e8f0}.notes-theme-toggle{border-width:1px;border-color:rgba(148,163,184,.4)}[data-theme=dark] .app-header{background:#111827;border-color:#334155}[data-theme=dark] .brand-name,[data-theme=dark] .card-body,[data-theme=dark] .card-title,[data-theme=dark] .creator-body-input,[data-theme=dark] .creator-title-input,[data-theme=dark] .edit-body-input,[data-theme=dark] .edit-title-input,[data-theme=dark] .search-bar-input{color:#e2e8f0!important}[data-theme=dark] .search-bar-input{background:#1e293b;border-color:#334155}[data-theme=dark] .color-picker,[data-theme=dark] .creator-collapsed,[data-theme=dark] .creator-expanded,[data-theme=dark] .modal-card,[data-theme=dark] .note-card{background:#111827;border-color:#334155;box-shadow:0 4px 16px rgba(0,0,0,.35)}[data-theme=dark] .card-action-btn,[data-theme=dark] .card-pin-btn,[data-theme=dark] .done-btn,[data-theme=dark] .icon-btn,[data-theme=dark] .text-btn{color:#cbd5e1}[data-theme=dark] .empty-state,[data-theme=dark] .section-label{color:#94a3b8}
  </style>
</head>

<body>

  <!-- Header -->
  <header class="app-header">
    <div class="header-inner">
      <div class="header-brand">
        <svg class="brand-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
        </svg>
        <span class="brand-name">Notes</span>
      </div>
      <div class="search-bar">
        <svg class="search-bar-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
        <input type="text" id="search-input" class="search-bar-input" placeholder="Search" autocomplete="off">
      </div>
      <div class="header-end">
        <button id="dashboard-btn" class="icon-btn notes-theme-toggle" aria-label="Go to dashboard" title="Go to dashboard">⌂</button>
        <button id="theme-toggle" class="icon-btn notes-theme-toggle" aria-label="Switch theme" title="Switch theme"></button>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="app-main">

    <!-- Note creator -->
    <div id="note-creator" class="creator-wrap">

      <!-- Collapsed -->
      <div id="creator-collapsed" class="creator-collapsed">
        <input id="creator-trigger" type="text" placeholder="Take a note…" class="creator-trigger-input" readonly>
        <button id="open-creator-btn" class="icon-btn" title="New note" aria-label="New note">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
          </svg>
        </button>
      </div>

      <!-- Expanded -->
      <div id="creator-expanded" class="creator-expanded hidden">
        <input type="text" id="creator-title" placeholder="Title" class="creator-title-input" maxlength="1000">
        <textarea id="creator-body" placeholder="Take a note…" class="creator-body-input" rows="3" maxlength="20000"></textarea>
        <div class="creator-footer">
          <div class="creator-footer-left">
            <div class="color-picker-wrap">
              <button class="icon-btn" id="creator-color-btn" title="Background color" aria-label="Background color">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
                  <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
                </svg>
              </button>
              <div id="creator-color-picker" class="color-picker">
                <button class="color-swatch selected" data-color="default" style="background:#ffffff" title="Default"></button>
                <button class="color-swatch" data-color="red" style="background:#f28b82" title="Tomato"></button>
                <button class="color-swatch" data-color="orange" style="background:#fbbc04" title="Flamingo"></button>
                <button class="color-swatch" data-color="yellow" style="background:#fff475" title="Banana"></button>
                <button class="color-swatch" data-color="green" style="background:#ccff90" title="Sage"></button>
                <button class="color-swatch" data-color="teal" style="background:#a8f0e0" title="Teal"></button>
                <button class="color-swatch" data-color="blue" style="background:#cbf0f8" title="Denim"></button>
                <button class="color-swatch" data-color="purple" style="background:#d7aefb" title="Grape"></button>
              </div>
            </div>
            <button id="creator-pin-btn" class="icon-btn" title="Pin note" aria-label="Pin note">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
                <path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"/>
              </svg>
            </button>
          </div>
          <div class="creator-footer-right">
            <button id="creator-discard" class="text-btn">Discard</button>
            <button id="creator-done" class="done-btn">Done</button>
          </div>
        </div>
      </div>

    </div>

    <!-- Notes -->
    <div id="notes-container">
      <section id="pinned-section" class="hidden">
        <p class="section-label">PINNED</p>
        <div id="pinned-grid" class="notes-grid"></div>
      </section>
      <section id="others-section">
        <p id="others-label" class="section-label hidden">OTHERS</p>
        <div id="others-grid" class="notes-grid"></div>
      </section>
      <div id="empty-state" class="empty-state hidden">
        <svg class="empty-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
        </svg>
        <p class="empty-text" id="empty-text">Your notes will appear here</p>
      </div>
    </div>

  </main>

  <!-- Edit modal -->
  <div id="edit-modal" class="modal-backdrop hidden" role="dialog" aria-modal="true" aria-label="Edit note">
    <div id="edit-card" class="modal-card">
      <div class="modal-top">
        <input type="text" id="edit-title" placeholder="Title" class="edit-title-input" maxlength="1000">
        <button id="edit-pin-btn" class="modal-pin-btn" title="Pin note" aria-label="Pin note">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
            <path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"/>
          </svg>
        </button>
      </div>
      <textarea id="edit-body" placeholder="Note" class="edit-body-input"></textarea>
      <div class="modal-footer">
        <div class="modal-footer-left">
          <div class="color-picker-wrap">
            <button class="icon-btn" id="edit-color-btn" title="Background color" aria-label="Background color">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
                <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
              </svg>
            </button>
            <div id="edit-color-picker" class="color-picker">
              <button class="color-swatch selected" data-color="default" style="background:#ffffff" title="Default"></button>
              <button class="color-swatch" data-color="red" style="background:#f28b82" title="Tomato"></button>
              <button class="color-swatch" data-color="orange" style="background:#fbbc04" title="Flamingo"></button>
              <button class="color-swatch" data-color="yellow" style="background:#fff475" title="Banana"></button>
              <button class="color-swatch" data-color="green" style="background:#ccff90" title="Sage"></button>
              <button class="color-swatch" data-color="teal" style="background:#a8f0e0" title="Teal"></button>
              <button class="color-swatch" data-color="blue" style="background:#cbf0f8" title="Denim"></button>
              <button class="color-swatch" data-color="purple" style="background:#d7aefb" title="Grape"></button>
            </div>
          </div>
          <button class="icon-btn" id="edit-delete-btn" title="Delete note" aria-label="Delete note">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
              <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
            </svg>
          </button>
        </div>
        <button id="edit-close-btn" class="done-btn">Close</button>
      </div>
    </div>
  </div>

  <script>
(function () {
  const KEY = 'spa-theme';
  const VALID = new Set(['dark', 'light']);
  let initialized = false;

  function normalize(mode) {
    return VALID.has(mode) ? mode : null;
  }

  function readStored() {
    try {
      return normalize(localStorage.getItem(KEY));
    } catch {
      return null;
    }
  }

  function apply(mode) {
    document.documentElement.dataset.theme = mode;
    document.documentElement.style.colorScheme = mode;
  }

  function emit(mode) {
    window.dispatchEvent(new CustomEvent('themechange', { detail: { mode } }));
  }

  function get() {
    return normalize(document.documentElement.dataset.theme) || 'dark';
  }

  function set(mode, persist = true) {
    const normalized = normalize(mode) || 'dark';
    apply(normalized);
    if (persist) {
      try {
        localStorage.setItem(KEY, normalized);
      } catch {
        // ignore storage failures
      }
    }
    emit(normalized);
    return normalized;
  }

  function init(options = {}) {
    const fallback = normalize(options.defaultMode) || 'dark';
    const stored = readStored();
    const mode = stored || fallback;
    apply(mode);
    if (!stored) {
      try {
        localStorage.setItem(KEY, mode);
      } catch {
        // ignore storage failures
      }
    }
    if (!initialized) {
      emit(mode);
      initialized = true;
    }
    return mode;
  }

  function toggle() {
    return set(get() === 'dark' ? 'light' : 'dark');
  }

  function mountToggle(button, options = {}) {
    if (!button) return;

    const darkIcon = options.darkIcon || '☀';
    const lightIcon = options.lightIcon || '☾';

    const sync = () => {
      const mode = get();
      const next = mode === 'dark' ? 'light' : 'dark';
      button.textContent = mode === 'dark' ? darkIcon : lightIcon;
      button.setAttribute('aria-label', `Switch to ${next} mode`);
      button.setAttribute('title', `Switch to ${next} mode`);
      button.dataset.mode = mode;
    };

    button.addEventListener('click', () => toggle());
    window.addEventListener('themechange', sync);
    sync();
  }

  window.Theme = {
    init,
    get,
    set,
    toggle,
    mountToggle,
  };

  window.AppNav = {
    goDashboard() {
      window.location.href = 'dashboard.html';
    },
  };
})();
  </script>
  <script>
// --- Constants ---

const NOTE_COLORS = {
  default: '#ffffff',
  red:     '#f28b82',
  orange:  '#fbbc04',
  yellow:  '#fff475',
  green:   '#ccff90',
  teal:    '#a8f0e0',
  blue:    '#cbf0f8',
  purple:  '#d7aefb',
};

// --- IndexedDB ---

function dbOpen() {
  return new Promise((resolve, reject) => {
    const req = indexedDB.open('notes-app', 1);
    req.onupgradeneeded = () => {
      if (!req.result.objectStoreNames.contains('state')) {
        req.result.createObjectStore('state');
      }
    };
    req.onsuccess = () => resolve(req.result);
    req.onerror = () => reject(req.error);
  });
}

function dbGet(db, key) {
  return new Promise((resolve, reject) => {
    const req = db.transaction('state').objectStore('state').get(key);
    req.onsuccess = () => resolve(req.result);
    req.onerror = () => reject(req.error);
  });
}

function dbPut(db, key, val) {
  return new Promise((resolve, reject) => {
    const req = db.transaction('state', 'readwrite').objectStore('state').put(val, key);
    req.onsuccess = () => resolve();
    req.onerror = () => reject(req.error);
  });
}

// --- State ---

let db;
let notes = [];
let searchQuery = '';
let isCreatorOpen = false;
let creatorColor = 'default';
let creatorPinned = false;
let editingId = null;

// --- Helpers ---

function escapeHtml(s) {
  const d = document.createElement('div');
  d.textContent = s;
  return d.innerHTML;
}

function save() {
  dbPut(db, 'notes', notes);
}

function filteredNotes() {
  if (!searchQuery) return notes;
  const q = searchQuery.toLowerCase();
  return notes.filter(n =>
    n.title.toLowerCase().includes(q) || n.body.toLowerCase().includes(q)
  );
}

function closeAllColorPickers() {
  document.querySelectorAll('.color-picker').forEach(p => p.classList.remove('open'));
}

// --- Note Card Rendering ---

function buildCard(note) {
  const card = document.createElement('div');
  card.className = 'note-card';
  card.dataset.id = note.id;
  card.style.backgroundColor = NOTE_COLORS[note.color] || '#ffffff';

  const titleHtml = note.title
    ? `<p class="card-title">${escapeHtml(note.title)}</p>`
    : '';
  const bodyHtml = note.body
    ? `<p class="card-body">${escapeHtml(note.body)}</p>`
    : '';

  const swatches = Object.keys(NOTE_COLORS).map(c => `
    <button class="color-swatch${note.color === c ? ' selected' : ''}"
            data-color="${c}"
            style="background:${NOTE_COLORS[c]}"
            title="${c}"></button>
  `).join('');

  card.innerHTML = `
    ${titleHtml}
    ${bodyHtml}
    <button class="card-pin-btn${note.pinned ? ' pinned' : ''}"
            title="${note.pinned ? 'Unpin' : 'Pin note'}"
            aria-label="${note.pinned ? 'Unpin note' : 'Pin note'}">
      <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
        <path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"/>
      </svg>
    </button>
    <div class="card-actions">
      <div class="color-picker-wrap">
        <button class="card-action-btn" data-action="color" title="Background color" aria-label="Background color">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
            <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
          </svg>
        </button>
        <div class="color-picker card-color-picker">
          ${swatches}
        </div>
      </div>
      <button class="card-action-btn" data-action="delete" title="Delete note" aria-label="Delete note">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
          <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
        </svg>
      </button>
    </div>
  `;

  // Open edit on card click (not on action buttons)
  card.addEventListener('click', e => {
    if (e.target.closest('.card-actions') || e.target.closest('.card-pin-btn')) return;
    openEdit(note.id);
  });

  // Pin toggle
  card.querySelector('.card-pin-btn').addEventListener('click', e => {
    e.stopPropagation();
    const n = notes.find(x => x.id === note.id);
    if (n) { n.pinned = !n.pinned; save(); renderNotes(); }
  });

  // Card color picker toggle
  card.querySelector('[data-action="color"]').addEventListener('click', e => {
    e.stopPropagation();
    const picker = card.querySelector('.card-color-picker');
    const wasOpen = picker.classList.contains('open');
    closeAllColorPickers();
    if (!wasOpen) picker.classList.add('open');
  });

  card.querySelectorAll('.card-color-picker .color-swatch').forEach(swatch => {
    swatch.addEventListener('click', e => {
      e.stopPropagation();
      const n = notes.find(x => x.id === note.id);
      if (n) { n.color = swatch.dataset.color; save(); renderNotes(); }
    });
  });

  // Delete
  card.querySelector('[data-action="delete"]').addEventListener('click', e => {
    e.stopPropagation();
    notes = notes.filter(x => x.id !== note.id);
    save();
    renderNotes();
  });

  return card;
}

// --- Render ---

function renderNotes() {
  const visible = filteredNotes();
  const pinned = visible.filter(n => n.pinned);
  const others = visible.filter(n => !n.pinned);

  const pinnedSection = document.getElementById('pinned-section');
  const pinnedGrid    = document.getElementById('pinned-grid');
  const othersLabel   = document.getElementById('others-label');
  const othersGrid    = document.getElementById('others-grid');
  const emptyState    = document.getElementById('empty-state');
  const emptyText     = document.getElementById('empty-text');

  pinnedGrid.innerHTML = '';
  othersGrid.innerHTML = '';

  if (pinned.length > 0) {
    pinnedSection.classList.remove('hidden');
    othersLabel.classList.toggle('hidden', others.length === 0);
    pinned.forEach(n => pinnedGrid.appendChild(buildCard(n)));
  } else {
    pinnedSection.classList.add('hidden');
    othersLabel.classList.add('hidden');
  }

  others.forEach(n => othersGrid.appendChild(buildCard(n)));

  const isEmpty = visible.length === 0;
  emptyState.classList.toggle('hidden', !isEmpty);
  if (isEmpty) {
    emptyText.textContent = searchQuery ? 'No matching notes' : 'Your notes will appear here';
  }
}

// --- Creator ---

function openCreator() {
  isCreatorOpen = true;
  creatorColor = 'default';
  creatorPinned = false;
  document.getElementById('creator-collapsed').classList.add('hidden');
  const expanded = document.getElementById('creator-expanded');
  expanded.classList.remove('hidden');
  expanded.style.backgroundColor = NOTE_COLORS.default;
  document.getElementById('creator-pin-btn').classList.remove('pinned');
  syncCreatorSwatches('default');
  document.getElementById('creator-body').focus();
}

function closeCreator(save = false) {
  if (save) {
    const title = document.getElementById('creator-title').value;
    const body  = document.getElementById('creator-body').value;
    if (title.trim() || body.trim()) {
      notes.unshift({
        id: 'note_' + Date.now(),
        title: title.trim(),
        body: body.trim(),
        color: creatorColor,
        pinned: creatorPinned,
        createdAt: Date.now(),
      });
      dbPut(db, 'notes', notes);
      renderNotes();
    }
  }
  isCreatorOpen = false;
  document.getElementById('creator-title').value = '';
  document.getElementById('creator-body').value = '';
  document.getElementById('creator-expanded').classList.add('hidden');
  document.getElementById('creator-expanded').style.backgroundColor = '';
  document.getElementById('creator-collapsed').classList.remove('hidden');
  document.getElementById('creator-color-picker').classList.remove('open');
}

function syncCreatorSwatches(color) {
  document.querySelectorAll('#creator-color-picker .color-swatch').forEach(s => {
    s.classList.toggle('selected', s.dataset.color === color);
  });
}

// --- Edit Modal ---

function openEdit(id) {
  const note = notes.find(n => n.id === id);
  if (!note) return;
  editingId = id;

  document.getElementById('edit-title').value = note.title;
  document.getElementById('edit-body').value = note.body;
  document.getElementById('edit-card').style.backgroundColor = NOTE_COLORS[note.color] || '#ffffff';
  document.getElementById('edit-pin-btn').classList.toggle('pinned', note.pinned);
  syncEditSwatches(note.color);

  // Auto-size textarea
  const ta = document.getElementById('edit-body');
  ta.style.height = 'auto';
  ta.style.height = Math.min(ta.scrollHeight, window.innerHeight * 0.80) + 'px';

  document.getElementById('edit-modal').classList.remove('hidden');
  document.getElementById('edit-body').focus();
}

function closeEdit() {
  if (!editingId) return;
  const note = notes.find(n => n.id === editingId);
  if (note) {
    note.title = document.getElementById('edit-title').value.trim();
    note.body  = document.getElementById('edit-body').value.trim();
    if (!note.title && !note.body) {
      notes = notes.filter(n => n.id !== editingId);
    }
    save();
    renderNotes();
  }
  editingId = null;
  document.getElementById('edit-modal').classList.add('hidden');
  closeAllColorPickers();
}

function syncEditSwatches(color) {
  document.querySelectorAll('#edit-color-picker .color-swatch').forEach(s => {
    s.classList.toggle('selected', s.dataset.color === color);
  });
}

// --- Init ---

(async () => {
  Theme.init({ defaultMode: 'dark' });
  const dashboardBtn = document.getElementById('dashboard-btn');
  if (dashboardBtn) {
    dashboardBtn.addEventListener('click', () => AppNav.goDashboard());
  }
  Theme.mountToggle(document.getElementById('theme-toggle'));

  db    = await dbOpen();
  notes = (await dbGet(db, 'notes')) || [];
  renderNotes();

  // Search
  document.getElementById('search-input').addEventListener('input', e => {
    searchQuery = e.target.value.trim();
    renderNotes();
  });

  // Creator — open
  document.getElementById('creator-trigger').addEventListener('click', openCreator);
  document.getElementById('open-creator-btn').addEventListener('click', openCreator);

  // Creator — done / discard
  document.getElementById('creator-done').addEventListener('click', () => closeCreator(true));
  document.getElementById('creator-discard').addEventListener('click', () => closeCreator(false));

  // Creator — color picker
  document.getElementById('creator-color-btn').addEventListener('click', e => {
    e.stopPropagation();
    document.getElementById('creator-color-picker').classList.toggle('open');
  });

  document.querySelectorAll('#creator-color-picker .color-swatch').forEach(swatch => {
    swatch.addEventListener('click', e => {
      e.stopPropagation();
      creatorColor = swatch.dataset.color;
      document.getElementById('creator-expanded').style.backgroundColor = NOTE_COLORS[creatorColor];
      syncCreatorSwatches(creatorColor);
      document.getElementById('creator-color-picker').classList.remove('open');
    });
  });

  // Creator — pin
  document.getElementById('creator-pin-btn').addEventListener('click', () => {
    creatorPinned = !creatorPinned;
    document.getElementById('creator-pin-btn').classList.toggle('pinned', creatorPinned);
  });

  // Creator — auto-resize body textarea
  document.getElementById('creator-body').addEventListener('input', function () {
    this.style.height = 'auto';
    this.style.height = this.scrollHeight + 'px';
  });

  // Edit modal — close
  document.getElementById('edit-close-btn').addEventListener('click', closeEdit);

  document.getElementById('edit-modal').addEventListener('click', e => {
    if (e.target === document.getElementById('edit-modal')) closeEdit();
  });

  // Edit modal — auto-resize body textarea
  document.getElementById('edit-body').addEventListener('input', function () {
    this.style.height = 'auto';
    this.style.height = Math.min(this.scrollHeight, window.innerHeight * 0.6) + 'px';
  });

  // Edit modal — pin
  document.getElementById('edit-pin-btn').addEventListener('click', () => {
    if (!editingId) return;
    const note = notes.find(n => n.id === editingId);
    if (note) {
      note.pinned = !note.pinned;
      document.getElementById('edit-pin-btn').classList.toggle('pinned', note.pinned);
      save();
    }
  });

  // Edit modal — delete
  document.getElementById('edit-delete-btn').addEventListener('click', () => {
    if (!editingId) return;
    notes = notes.filter(n => n.id !== editingId);
    save();
    renderNotes();
    editingId = null;
    document.getElementById('edit-modal').classList.add('hidden');
  });

  // Edit modal — color picker
  document.getElementById('edit-color-btn').addEventListener('click', e => {
    e.stopPropagation();
    document.getElementById('edit-color-picker').classList.toggle('open');
  });

  document.querySelectorAll('#edit-color-picker .color-swatch').forEach(swatch => {
    swatch.addEventListener('click', e => {
      e.stopPropagation();
      if (!editingId) return;
      const note = notes.find(n => n.id === editingId);
      if (note) {
        note.color = swatch.dataset.color;
        document.getElementById('edit-card').style.backgroundColor = NOTE_COLORS[note.color];
        syncEditSwatches(note.color);
        save();
      }
      document.getElementById('edit-color-picker').classList.remove('open');
    });
  });

  // Global click: close color pickers + auto-close creator on outside click
  document.addEventListener('click', e => {
    if (!e.target.closest('.color-picker-wrap')) {
      closeAllColorPickers();
    }
    if (isCreatorOpen &&
        !e.target.closest('#note-creator') &&
        !e.target.closest('#edit-modal')) {
      closeCreator(true);
    }
  });

  // Keyboard shortcuts
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      if (editingId) {
        closeEdit();
      } else if (isCreatorOpen) {
        closeCreator(false);
      }
      closeAllColorPickers();
    }
  });
})();
  </script>
</body>

</html>
